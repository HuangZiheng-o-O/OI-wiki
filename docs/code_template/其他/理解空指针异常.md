**空指针异常**（Null Pointer Exception，NPE）是指对空指针尝试执行非法操作时引发的运行时错误。例如，访问空指针的成员变量或调用成员函数。这种异常通常和 **空指针的解引用** 相关，与指针本身是否处于等号的左边或右边无直接关系。

------

### **理解空指针异常**

1. **空指针异常的本质** 空指针异常通常发生在以下情况：

   - 尝试通过一个空指针访问成员变量或函数。
   - 尝试解引用一个空指针。

2. **常见的触发情形**

   - 访问成员变量

     ：

     ```cpp
     ListNode* node = nullptr;
     int value = node->val; // 空指针解引用，会导致运行时错误
     ```

   - 调用成员函数

     ：

     ```cpp
     ListNode* node = nullptr;
     node->next = new ListNode(1); // 空指针解引用，会导致运行时错误
     ```

3. **等号左边或右边的区别**

   - 如果空指针出现在等号的

     右边

     ，通常不会触发异常，因为这是在对指针本身赋值。

     ```cpp
     ListNode* node = nullptr; // 指针本身赋值，合法
     node = new ListNode(1);   // 重新赋值，合法
     ```

   - 如果空指针出现在等号的

     左边

     ，且涉及对其成员变量的访问或赋值，就会触发异常。

     ```cpp
     ListNode* node = nullptr;
     node->val = 10; // 空指针解引用，非法操作
     ```

------

### **如何避免空指针异常**

1. **检查指针是否为 `nullptr`** 在使用指针之前，确保它不为空。

   ```cpp
   if (node != nullptr) {
       node->val = 10; // 仅当指针不为空时访问成员变量
   }
   ```

2. **使用智能指针** 使用 C++ 的智能指针（如 `std::shared_ptr` 或 `std::unique_ptr`），可以有效减少空指针异常的风险。

   ```cpp
   std::shared_ptr<ListNode> node;
   if (node) {
       node->val = 10;
   }
   ```

3. **初始化指针** 确保指针在声明时被初始化，避免未定义行为。

   ```cpp
   ListNode* node = new ListNode(1); // 初始化
   ```

------

### **总结**

- **空指针解引用**（对空指针使用 `->` 或 `*`）是空指针异常的根本原因，与指针是否在等号左边或右边无关。
- 对于等号操作：
  - **右边的空指针赋值**：合法操作（不会访问空指针，只改变指针的值）。
  - **左边的空指针解引用**：可能非法操作（会访问空指针的成员或函数）。
- 避免空指针异常的关键是正确初始化指针，并在使用前进行检查。